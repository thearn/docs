<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>scipy.ndimage.geometric_transform &mdash; SciPy v1.1.0.dev0+4e64658 Reference Guide</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0.dev0+4e64658',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/scipy-mathjax/MathJax.js?config=scipy-mathjax"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="SciPy v1.1.0.dev0+4e64658 Reference Guide" href="../index.html" >
    <link rel="up" title="Multi-dimensional image processing (scipy.ndimage)" href="../ndimage.html" >
    <link rel="next" title="scipy.ndimage.map_coordinates" href="scipy.ndimage.map_coordinates.html" >
    <link rel="prev" title="scipy.ndimage.affine_transform" href="scipy.ndimage.affine_transform.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../index.html">SciPy v1.1.0.dev0+4e64658 Reference Guide</a></li>
	
          <li class="active"><a href="../ndimage.html" accesskey="U">Multi-dimensional image processing (<code class="docutils literal"><span class="pre">scipy.ndimage</span></code>)</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="scipy.ndimage.map_coordinates.html" title="scipy.ndimage.map_coordinates"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="scipy.ndimage.affine_transform.html" title="scipy.ndimage.affine_transform"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/scipyshiny_small.png" alt="Logo">
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="scipy.ndimage.affine_transform.html"
                        title="previous chapter">scipy.ndimage.affine_transform</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scipy.ndimage.map_coordinates.html"
                        title="next chapter">scipy.ndimage.map_coordinates</a></p>


        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="scipy-ndimage-geometric-transform">
<h1>scipy.ndimage.geometric_transform<a class="headerlink" href="#scipy-ndimage-geometric-transform" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="scipy.ndimage.geometric_transform">
<code class="descclassname">scipy.ndimage.</code><code class="descname">geometric_transform</code><span class="sig-paren">(</span><em>input</em>, <em>mapping</em>, <em>output_shape=None</em>, <em>output=None</em>, <em>order=3</em>, <em>mode='constant'</em>, <em>cval=0.0</em>, <em>prefilter=True</em>, <em>extra_arguments=()</em>, <em>extra_keywords={}</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scipy/scipy/blob/4e64658/scipy/ndimage/interpolation.py#L125-L245"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.ndimage.geometric_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an arbitrary geometric transform.</p>
<p>The given mapping function is used to find, for each point in the
output, the corresponding coordinates in the input. The value of the
input at those coordinates is determined by spline interpolation of
the requested order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input</strong> : array_like</p>
<blockquote>
<div><p>The input array.</p>
</div></blockquote>
<p><strong>mapping</strong> : {callable, scipy.LowLevelCallable}</p>
<blockquote>
<div><p>A callable object that accepts a tuple of length equal to the output
array rank, and returns the corresponding input coordinates as a tuple
of length equal to the input array rank.</p>
</div></blockquote>
<p><strong>output_shape</strong> : tuple of ints, optional</p>
<blockquote>
<div><p>Shape tuple.</p>
</div></blockquote>
<p><strong>output</strong> : ndarray or dtype, optional</p>
<blockquote>
<div><p>The array in which to place the output, or the dtype of the returned
array.</p>
</div></blockquote>
<p><strong>order</strong> : int, optional</p>
<blockquote>
<div><p>The order of the spline interpolation, default is 3.
The order has to be in the range 0-5.</p>
</div></blockquote>
<p><strong>mode</strong> : str, optional</p>
<blockquote>
<div><p>Points outside the boundaries of the input are filled according
to the given mode (‘constant’, ‘nearest’, ‘reflect’, ‘mirror’ or ‘wrap’).
Default is ‘constant’.</p>
</div></blockquote>
<p><strong>cval</strong> : scalar, optional</p>
<blockquote>
<div><p>Value used for points outside the boundaries of the input if
<code class="docutils literal"><span class="pre">mode='constant'</span></code>. Default is 0.0</p>
</div></blockquote>
<p><strong>prefilter</strong> : bool, optional</p>
<blockquote>
<div><p>The parameter prefilter determines if the input is pre-filtered with
<a class="reference internal" href="scipy.ndimage.spline_filter.html#scipy.ndimage.spline_filter" title="scipy.ndimage.spline_filter"><code class="xref py py-obj docutils literal"><span class="pre">spline_filter</span></code></a> before interpolation (necessary for spline
interpolation of order &gt; 1).  If False, it is assumed that the input is
already filtered. Default is True.</p>
</div></blockquote>
<p><strong>extra_arguments</strong> : tuple, optional</p>
<blockquote>
<div><p>Extra arguments passed to <em class="xref py py-obj">mapping</em>.</p>
</div></blockquote>
<p><strong>extra_keywords</strong> : dict, optional</p>
<blockquote>
<div><p>Extra keywords passed to <em class="xref py py-obj">mapping</em>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>return_value</strong> : ndarray or None</p>
<blockquote class="last">
<div><p>The filtered input. If <em class="xref py py-obj">output</em> is given as a parameter, None is
returned.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="scipy.ndimage.map_coordinates.html#scipy.ndimage.map_coordinates" title="scipy.ndimage.map_coordinates"><code class="xref py py-obj docutils literal"><span class="pre">map_coordinates</span></code></a>, <a class="reference internal" href="scipy.ndimage.affine_transform.html#scipy.ndimage.affine_transform" title="scipy.ndimage.affine_transform"><code class="xref py py-obj docutils literal"><span class="pre">affine_transform</span></code></a>, <a class="reference internal" href="scipy.ndimage.spline_filter1d.html#scipy.ndimage.spline_filter1d" title="scipy.ndimage.spline_filter1d"><code class="xref py py-obj docutils literal"><span class="pre">spline_filter1d</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>This function also accepts low-level callback functions with one
the following signatures and wrapped in <a class="reference internal" href="scipy.LowLevelCallable.html#scipy.LowLevelCallable" title="scipy.LowLevelCallable"><code class="xref py py-obj docutils literal"><span class="pre">scipy.LowLevelCallable</span></code></a>:</p>
<div class="code c highlight-default"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">mapping</span><span class="p">(</span><span class="n">npy_intp</span> <span class="o">*</span><span class="n">output_coordinates</span><span class="p">,</span> <span class="n">double</span> <span class="o">*</span><span class="n">input_coordinates</span><span class="p">,</span>
            <span class="nb">int</span> <span class="n">output_rank</span><span class="p">,</span> <span class="nb">int</span> <span class="n">input_rank</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="n">user_data</span><span class="p">)</span>
<span class="nb">int</span> <span class="n">mapping</span><span class="p">(</span><span class="n">intptr_t</span> <span class="o">*</span><span class="n">output_coordinates</span><span class="p">,</span> <span class="n">double</span> <span class="o">*</span><span class="n">input_coordinates</span><span class="p">,</span>
            <span class="nb">int</span> <span class="n">output_rank</span><span class="p">,</span> <span class="nb">int</span> <span class="n">input_rank</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="n">user_data</span><span class="p">)</span>
</pre></div>
</div>
<p>The calling function iterates over the elements of the output array,
calling the callback function at each element. The coordinates of the
current output element are passed through <code class="docutils literal"><span class="pre">output_coordinates</span></code>. The
callback function must return the coordinates at which the input must
be interpolated in <code class="docutils literal"><span class="pre">input_coordinates</span></code>. The rank of the input and
output arrays are given by <code class="docutils literal"><span class="pre">input_rank</span></code> and <code class="docutils literal"><span class="pre">output_rank</span></code>
respectively.  <code class="docutils literal"><span class="pre">user_data</span></code> is the data pointer provided
to <a class="reference internal" href="scipy.LowLevelCallable.html#scipy.LowLevelCallable" title="scipy.LowLevelCallable"><code class="xref py py-obj docutils literal"><span class="pre">scipy.LowLevelCallable</span></code></a> as-is.</p>
<p>The callback function must return an integer error status that is zero
if something went wrong and one otherwise. If an error occurs, you should
normally set the python error status with an informative message
before returning, otherwise a default error message is set by the
calling function.</p>
<p>In addition, some other low-level function pointer specifications
are accepted, but these are for backward compatibility only and should
not be used in new code.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">ndimage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">12.</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">shift_func</span><span class="p">(</span><span class="n">output_coords</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">(</span><span class="n">output_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">output_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndimage</span><span class="o">.</span><span class="n">geometric_transform</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">shift_func</span><span class="p">)</span>
<span class="go">array([[ 0.   ,  0.   ,  0.   ],</span>
<span class="go">       [ 0.   ,  1.362,  2.738],</span>
<span class="go">       [ 0.   ,  4.812,  6.187],</span>
<span class="go">       [ 0.   ,  8.263,  9.637]])</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2016, The Scipy community.
      </li>
      <li>
      Last updated on Sep 21, 2017.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.3.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>